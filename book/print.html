<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head prefix="og: http://ogp.me/ns#">
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Veryl Hardware Description Language</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <meta property="og:url" content="https://github.com/dalance/veryl" />
        <meta property="og:title" content="Veryl: A Modern Hardware Description Language" />
        <meta property="og:description" content="Veryl is a hardware description language which is designed as a SystemVerilog alternative." />
        <meta property="og:image" content="https://github.com/dalance/veryl/raw/master/support/logo/veryl_ogp.png" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="01_introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="02_getting_started.html"><strong aria-hidden="true">2.</strong> Getting Started</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="02_getting_started/01_installation.html"><strong aria-hidden="true">2.1.</strong> Installation</a></li><li class="chapter-item "><a href="02_getting_started/02_hello_world.html"><strong aria-hidden="true">2.2.</strong> Hello, World!</a></li></ol></li><li class="chapter-item expanded "><a href="03_code_examples.html"><strong aria-hidden="true">3.</strong> Code Examples</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="03_code_examples/01_module.html"><strong aria-hidden="true">3.1.</strong> Module</a></li><li class="chapter-item "><a href="03_code_examples/02_instantiation.html"><strong aria-hidden="true">3.2.</strong> Instantiation</a></li><li class="chapter-item "><a href="03_code_examples/03_interface.html"><strong aria-hidden="true">3.3.</strong> Interface</a></li><li class="chapter-item "><a href="03_code_examples/04_package.html"><strong aria-hidden="true">3.4.</strong> Package</a></li></ol></li><li class="chapter-item expanded "><a href="04_language_reference.html"><strong aria-hidden="true">4.</strong> Language Reference</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="04_language_reference/01_source_code_structure.html"><strong aria-hidden="true">4.1.</strong> Source Code Structure</a></li><li class="chapter-item "><a href="04_language_reference/02_lexical_structure.html"><strong aria-hidden="true">4.2.</strong> Lexical Structure</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="04_language_reference/02_lexical_structure/01_operator.html"><strong aria-hidden="true">4.2.1.</strong> Operator</a></li><li class="chapter-item "><a href="04_language_reference/02_lexical_structure/02_number.html"><strong aria-hidden="true">4.2.2.</strong> Number</a></li></ol></li><li class="chapter-item "><a href="04_language_reference/03_data_type.html"><strong aria-hidden="true">4.3.</strong> Data Type</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="04_language_reference/03_data_type/01_builtin_type.html"><strong aria-hidden="true">4.3.1.</strong> Builtin Type</a></li><li class="chapter-item "><a href="04_language_reference/03_data_type/02_user_defined_type.html"><strong aria-hidden="true">4.3.2.</strong> User Defined Type</a></li><li class="chapter-item "><a href="04_language_reference/03_data_type/03_array.html"><strong aria-hidden="true">4.3.3.</strong> Array</a></li></ol></li><li class="chapter-item "><a href="04_language_reference/04_expression.html"><strong aria-hidden="true">4.4.</strong> Expression</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="04_language_reference/04_expression/01_operator.html"><strong aria-hidden="true">4.4.1.</strong> Operator</a></li><li class="chapter-item "><a href="04_language_reference/04_expression/02_function_call.html"><strong aria-hidden="true">4.4.2.</strong> Function Call</a></li><li class="chapter-item "><a href="04_language_reference/04_expression/03_concatenation.html"><strong aria-hidden="true">4.4.3.</strong> Concatenation</a></li><li class="chapter-item "><a href="04_language_reference/04_expression/04_if.html"><strong aria-hidden="true">4.4.4.</strong> If</a></li><li class="chapter-item "><a href="04_language_reference/04_expression/05_case.html"><strong aria-hidden="true">4.4.5.</strong> Case</a></li></ol></li><li class="chapter-item "><a href="04_language_reference/05_declaration.html"><strong aria-hidden="true">4.5.</strong> Declaration</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="04_language_reference/05_declaration/01_variable.html"><strong aria-hidden="true">4.5.1.</strong> Variable</a></li><li class="chapter-item "><a href="04_language_reference/05_declaration/02_parameter.html"><strong aria-hidden="true">4.5.2.</strong> Parameter</a></li><li class="chapter-item "><a href="04_language_reference/05_declaration/03_register.html"><strong aria-hidden="true">4.5.3.</strong> Register</a></li><li class="chapter-item "><a href="04_language_reference/05_declaration/04_combinational.html"><strong aria-hidden="true">4.5.4.</strong> Combinational</a></li><li class="chapter-item "><a href="04_language_reference/05_declaration/05_assign.html"><strong aria-hidden="true">4.5.5.</strong> Assign</a></li><li class="chapter-item "><a href="04_language_reference/05_declaration/06_function.html"><strong aria-hidden="true">4.5.6.</strong> Function</a></li></ol></li><li class="chapter-item "><a href="04_language_reference/06_module.html"><strong aria-hidden="true">4.6.</strong> Module</a></li><li class="chapter-item "><a href="04_language_reference/07_interface.html"><strong aria-hidden="true">4.7.</strong> Interface</a></li><li class="chapter-item "><a href="04_language_reference/08_package.html"><strong aria-hidden="true">4.8.</strong> Package</a></li></ol></li><li class="chapter-item expanded "><a href="05_development_environment.html"><strong aria-hidden="true">5.</strong> Development Environment</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="05_development_environment/01_project_configuration.html"><strong aria-hidden="true">5.1.</strong> Project Configuration</a></li><li class="chapter-item "><a href="05_development_environment/02_dependencies.html"><strong aria-hidden="true">5.2.</strong> Dependencies</a></li><li class="chapter-item "><a href="05_development_environment/03_directory_layout.html"><strong aria-hidden="true">5.3.</strong> Directory Layout</a></li><li class="chapter-item "><a href="05_development_environment/04_formatter.html"><strong aria-hidden="true">5.4.</strong> Formatter</a></li><li class="chapter-item "><a href="05_development_environment/05_linter.html"><strong aria-hidden="true">5.5.</strong> Linter</a></li><li class="chapter-item "><a href="05_development_environment/06_language_server.html"><strong aria-hidden="true">5.6.</strong> Language Server</a></li></ol></li><li class="chapter-item expanded "><a href="06_appendix.html"><strong aria-hidden="true">6.</strong> Appendix</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="06_appendix/01_formal_syntax.html"><strong aria-hidden="true">6.1.</strong> Formal Syntax</a></li><li class="chapter-item "><a href="06_appendix/02_semantic_error.html"><strong aria-hidden="true">6.2.</strong> Semantic Error</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Veryl Hardware Description Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-veryl-hardware-description-language"><a class="header" href="#the-veryl-hardware-description-language">The Veryl Hardware Description Language</a></h1>
<p><img src="https://github.com/dalance/veryl/raw/master/support/logo/veryl_wide.png" alt="Veryl" /></p>
<p>Veryl is a modern hardware description language.</p>
<h2 id="concepts"><a class="header" href="#concepts">Concepts</a></h2>
<p>Veryl is designed as a “SystemVerilog Alternative”.
There are some design concepts.</p>
<h3 id="symplified-syntax"><a class="header" href="#symplified-syntax">Symplified Syntax</a></h3>
<p>Veryl has symplified syntax based on SystemVerilog / Rust.
“Symplified” has two meanings. One is for parser, and another is for human.</p>
<p>SystemVerilog has very complicated syntax (see IEEE Std 1800-2017 Annex A).
This causes difficulty of SystemVerilog tool implementation.
So Veryl should have simple syntax to parse.
For example, “off-side rule” like Python, “automatic semicolon insertion” like ECMAScript / Go will not be supported.</p>
<p>SystemVerilog has various syntax. Some syntaxes are inherited from Verilog, and some syntaxes are added from SystemVerilog.
Additionally some syntaxes can be written, but cannot be used actually because major EDA tools don’t support them.
So user should learn many syntaxes and whether each syntax can be used or not.
Veryl will not support old Verilog style, unrecommended description, and so on.</p>
<h3 id="transpiler-to-systemverilog"><a class="header" href="#transpiler-to-systemverilog">Transpiler to SystemVerilog</a></h3>
<p>HDL alternative languages should be transpiler to the tradisional HDLs like Verilog / VHDL because major EDA tools support them.
Veryl is a transpiler to SystemVerilog.</p>
<p>Transpiler to Verilog has wide EDA tool support including OSS EDA tools.
But even if there are rich data strucuture like <code>struct</code> / <code>interface</code> in HDL alternatives, transpiled Verilog can’t have it.
If HDL alternatives have rich code generateion mechanism, transpiled Verilog will be expanded to the very long code.
For these reason, debugging the transpiled code becomes difficult.</p>
<p>Veryl will has almost all the same semantics as SystemVerilog.
So transpiled code will be human readable SystemVerilog.</p>
<p>Additionally Veryl have interoperability with SystemVerilog.
Veryl can use SystemVerilog’s module / interface / struct / enum in the code, and vice versa.</p>
<h3 id="integrated-tools"><a class="header" href="#integrated-tools">Integrated Tools</a></h3>
<p>Modern programming languages have development support tools like linter, formatter, and language server by default.
Veryl will have them too from the beginning of development.</p>
<p>The following tools are planed to support.</p>
<ul>
<li>Semantic checker</li>
<li>Source code formatter</li>
<li>Language server</li>
<li>Package manager</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>Let’s start to use Veryl. In this section, we will install Veryl, create an example project, and build it.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>You can install Veryl by downloading binary.
If you have Rust development environment, you can use <code>cargo</code> instead of it.</p>
<h2 id="download-binary"><a class="header" href="#download-binary">Download binary</a></h2>
<p>Download from <a href="https://github.com/dalance/veryl/releases/latest">release page</a>, and extract to the directory in PATH.</p>
<h2 id="cargo"><a class="header" href="#cargo">Cargo</a></h2>
<p>You can install with <a href="https://crates.io/crates/veryl">cargo</a>.</p>
<pre><code>cargo install veryl veryl-ls
</code></pre>
<h2 id="editor-integration"><a class="header" href="#editor-integration">Editor integration</a></h2>
<p><a href="https://azure.microsoft.com/ja-jp/products/visual-studio-code">VSCode</a> and <a href="https://github.com/vim/vim">vim</a>/<a href="https://neovim.io">neovim</a> are supported officially.</p>
<ul>
<li><a href="https://github.com/dalance/veryl.vim">vim/neovim plugin</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=dalance.vscode-veryl">VSCode plugin</a></li>
</ul>
<p>Veryl provides language server. So other editors supporting language server (ex. Emacs) can use it.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hello-world"><a class="header" href="#hello-world">Hello, World!</a></h1>
<h2 id="create-project"><a class="header" href="#create-project">Create Project</a></h2>
<p>At first, a new Veryl project can be created by:</p>
<pre><code>veryl new hello
</code></pre>
<p>After the command, the following directory and file will be created.</p>
<pre><code>$ veryl new hello
[INFO ]      Created &quot;hello&quot; project
$ cd hello
$ tree
.
`-- Veryl.toml

0 directories, 1 file
</code></pre>
<p><code>Veryl.toml</code> is the project configuration.</p>
<pre><code class="language-toml">[project]
name = &quot;hello&quot;
version = &quot;0.1.0&quot;
</code></pre>
<p>The description of all configuration is <a href="02_getting_started/../05_development_environment/01_project_configuration.html">here</a>.</p>
<h2 id="write-code"><a class="header" href="#write-code">Write Code</a></h2>
<p>You can add source codes at an arbitrary position in the project directory.
This is because Veryl project can be independent or integrated to other SystemVerilog project.
The extension of Veryl’s source codes is <code>.vl</code>.</p>
<p>For example, put the following code to <code>src/hello.vl</code>.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
}
</code></pre>
<pre><code>$ tree
.
|-- src
|   `-- hello.vl
`-- Veryl.toml

1 directory, 2 files
</code></pre>
<h2 id="build-code"><a class="header" href="#build-code">Build Code</a></h2>
<p>You can generate a SystemVerilog code by <code>veryl build</code>.</p>
<pre><code>$ veryl build
[INFO ]   Processing file ([path to hello]/src/hello.vl)
[INFO ]       Output filelist ([path to hello]/hello.f)
$ tree
.
|-- dependencies
|-- hello.f
|-- src
|   |-- hello.sv
|   `-- hello.vl
`-- Veryl.toml

2 directories, 4 files
</code></pre>
<p>By default, SystemVerilog code will be generated at the same directory as Veryl code.
The generated code is <code>src/hello.sv</code>.</p>
<pre><code class="language-verilog">module hello_ModuleA;

endmodule
</code></pre>
<p>Additionally, <code>hello.f</code> which is the filelist of generated codes will be generated.
You can use it for SystemVerilog compiler.
The following example is to use <a href="https://www.veripool.org/verilator/">Verilator</a>.</p>
<pre><code>$ verilator --cc -f hello.f
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="code-examples"><a class="header" href="#code-examples">Code Examples</a></h1>
<p>Veryl has the almost same semantics as SystemVerilog.
If you are used to SystemVerilog, you will guess Veryl semantics with a small example source code.</p>
<p>This is a small example.
In the following example,  comments show the difference with SystemVerilog syntax.</p>
<pre class="playground"><code class="language-veryl">module ModuleA (
    // name is first, and type is followed after `:`
    // bit width is represented by `&lt;&gt;`
    i_data: input  logic&lt;10&gt;,
    o_data: output logic&lt;10&gt;,

    // use `{}` instead of `begin`/`end`
) {
    assign o_data = i_data;
}
</code></pre>
<p>Some examples in the book have play button “▶” which will be appeared when mouse cursor is hovered at the code.
If you click the button, the transpiled SystemVerilog code will appear.</p>
<p>A source code of Veryl has some <code>module</code>, <code>interface</code> and <code>package</code> like SystemVerilog.
In this chapter, we’ll show the some example source codes of them.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="module"><a class="header" href="#module">Module</a></h1>
<pre class="playground"><code class="language-veryl">// module definition
module ModuleA #(
    parameter  ParamA: u32 = 10,
    localparam ParamB: u32 = 10, // trailing comma is allowed
) (
    i_clk : input  logic,
    i_rst : input  logic,
    i_sel : input  logic,
    i_data: input  logic&lt;ParamA&gt; [2], // `[]` means unpacked array in SystemVerilog
    o_data: output logic&lt;ParamA&gt;    , // `&lt;&gt;` means packed array in SystemVerilog
) {
    // localparam declaration
    //   `parameter` is not allowed in module
    localparam ParamC: u32 = 10;

    // variable declaration
    var r_data0: logic&lt;ParamA&gt;;
    var r_data1: logic&lt;ParamA&gt;;

    // always_ff statement with reset
    //   `always_ff` can take a mandatory clock and a optional reset
    //   `if_reset` means `if (i_rst)`. This conceals reset porality
    //   `()` of `if` is not required
    //   `=` in `always_ff` is non-blocking assignment
    always_ff (i_clk, i_rst) {
        if_reset {
            r_data0 = 0;
        } else if i_sel {
            r_data0 = i_data[0];
        } else {
            r_data0 = i_data[1];
        }
    }

    // always_ff statement without reset
    always_ff (i_clk) {
        r_data1 = r_data0;
    }

    assign o_data = r_data1;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="instantiation"><a class="header" href="#instantiation">Instantiation</a></h1>
<pre class="playground"><code class="language-veryl">module ModuleA #(
    parameter  ParamA: u32 = 10,
) (
    i_clk : input  logic,
    i_rst : input  logic,
    i_data: input  logic&lt;ParamA&gt;,
    o_data: output logic&lt;ParamA&gt;,
) {
    var r_data1: logic&lt;ParamA&gt;;
    var r_data2: logic&lt;ParamA&gt;;

    assign r_data1 = i_data + 1;
    assign o_data  = r_data2 + 2;

    // instance declaration
    //   `inst` keyword starts instance declaration
    //   port connnection can be specified by `()`
    //   each port connection is `[port_name]:[variable]`
    //   `[port_name]` means `[port_name]:[port_name]`
    inst u_module_b: ModuleB (
        i_clk,
        i_rst,
        i_data: r_data1,
        o_data: r_data2,
    );

    // instance declaration with parameter override
    //   notation of parameter connection is the same as port
    inst u_module_c: ModuleC #(
        ParamA,
        ParamB: 10,
    ) (
        i_clk,
        i_rst,
        i_data: r_data1,
        o_data: r_data2,
    );
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interface"><a class="header" href="#interface">Interface</a></h1>
<pre class="playground"><code class="language-veryl">// interface definition
interface InterfaceA #(
    parameter ParamA: u32 = 1,
    parameter ParamB: u32 = 1,
) {
    localparam ParamC: u32 = 1;

    var a: logic&lt;ParamA&gt;;
    var b: logic&lt;ParamA&gt;;
    var c: logic&lt;ParamA&gt;;

    // modport definition
    modport master {
        a: input ,
        b: input ,
        c: output,
    }

    modport slave {
        a: input ,
        b: input ,
        c: output,
    }
}

module ModuleA (
    i_clk     : input logic               ,
    i_rst     : input logic               ,
    intf_a_mst: modport InterfaceA::master,
    intf_a_slv: modport InterfaceA::slave ,
) {
    // interface instantiation
    inst u_intf_a: InterfaceA [10];
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="package"><a class="header" href="#package">Package</a></h1>
<pre class="playground"><code class="language-veryl">// package definition
package PackageA {
    localparam ParamA: u32 = 1;
    localparam ParamB: u32 = 1;

    function FuncA (
        a: input  logic&lt;ParamA&gt;,
    ) -&gt; logic&lt;ParamA&gt; {
        return a + 1;
    }
}

module ModuleA {
    var a : logic&lt;10&gt; = PackageA::ParamA;
    var _b: logic&lt;10&gt; = PackageA::FuncA(a);
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="language-reference"><a class="header" href="#language-reference">Language Reference</a></h1>
<p>In this chapter, we’ll discuss the lauguage definition of Veryl.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="source-code-structure"><a class="header" href="#source-code-structure">Source code structure</a></h1>
<p>Veryl’s source code is composed by some <code>module</code>, <code>interface</code> and <code>package</code>.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
}

module ModuleB {
}

interface InterfaceA {
}

package PackageA {
}
</code></pre>
<p>The name of <code>module</code>, <code>interface</code> and <code>package</code> in the transpiled code will added project name as prefix.
In the sample code, <code>project_</code> will be added.
It is to avoid name conflict between projects.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lexical-structure"><a class="header" href="#lexical-structure">Lexical Structure</a></h1>
<p>This chapter shows the lexical structure of Veryl.
At the first, we’ll discuss about the general parts in it.</p>
<h2 id="encoding"><a class="header" href="#encoding">Encoding</a></h2>
<p>The encoding of Veryl source code should be UTF-8.</p>
<h2 id="white-space"><a class="header" href="#white-space">White Space</a></h2>
<p><code> </code>, <code>\t</code> and <code>\n</code> are treated as white space.
All of them are skipped by Veryl’s parser.</p>
<h2 id="comment"><a class="header" href="#comment">Comment</a></h2>
<p>Single line comment and multi line comment can be used.
Almost all comment will be outputted at the transpiled code.</p>
<pre class="playground"><code class="language-veryl">// single line comment

/*
multi

line

comment
*/
</code></pre>
<h2 id="identifier"><a class="header" href="#identifier">Identifier</a></h2>
<p>Identifier is composed with ASCII alphabet and number and <code>_</code>.
Leading number is not allowed.
The following regular expression shows the definition.</p>
<pre><code>[a-zA-Z_][a-zA-Z0-9_]*
</code></pre>
<h2 id="string"><a class="header" href="#string">String</a></h2>
<p>String is surrounded by <code>&quot;</code>.
Escape by <code>\</code> can be used like <code>\&quot;</code>, <code>\n</code> and so on.</p>
<pre><code>&quot;Hello, World!&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operator"><a class="header" href="#operator">Operator</a></h1>
<p>Almost all operators are the same as SystemVerilog.
Please be careful the some differences.</p>
<ul>
<li><code>&lt;:</code> less than operator which is the same as <code>&lt;</code> in SystemVerilog.</li>
<li><code>&gt;:</code> greater than operator which is the same as <code>&gt;</code> in SystemVerilog.</li>
</ul>
<pre><code class="language-veryl">// unary arithmetic
a = +1;
a = -1;

// unary logical
a = !1;
a = ~1;

// unary reduce
a = &amp;1;
a = |1;
a = ^1;
a = ~&amp;1;
a = ~|1;
a = ~^1;
a = ^~1;

// binary arithmetic
a = 1 ** 1;
a = 1 * 1;
a = 1 / 1;
a = 1 % 1;
a = 1 + 1;
a = 1 - 1;

// binary shift
a = 1 &lt;&lt; 1;
a = 1 &gt;&gt; 1;
a = 1 &lt;&lt;&lt; 1;
a = 1 &gt;&gt;&gt; 1;

// binary compare
a = 1 &lt;: 1;
a = 1 &lt;= 1;
a = 1 &gt;: 1;
a = 1 &gt;= 1;
a = 1 == 1;
a = 1 != 1;
a = 1 === 1;
a = 1 !== 1;
a = 1 ==? 1;
a = 1 !=? 1;

// binary bitwise
a = 1 &amp; 1;
a = 1 ^ 1;
a = 1 ~^ 1;
a = 1 ^~ 1;
a = 1 | 1;

// binary logical
a = 1 &amp;&amp; 1;
a = 1 || 1;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="number"><a class="header" href="#number">Number</a></h1>
<h2 id="integer"><a class="header" href="#integer">Integer</a></h2>
<pre><code class="language-veryl">// integer
0123456789
01_23_45_67_89

// binary
32'b01xzXZ
32'b01_xz_XZ

// octal
32'o01234567xzXZ
32'o01_23_45_67_xz_XZ

// decimal
32'd0123456789
32'd01_23_45_67_89

// hex
128'h0123456789abcdefxzABCDEFXZ
128'h01_23_45_67_89_ab_cd_ef_xz_AB_CD_EF_XZ
</code></pre>
<pre><code class="language-veryl">// all 0
'0

// all 1
'1

// all x
'x
'X

// all z
'z
'Z
</code></pre>
<h2 id="floating-point"><a class="header" href="#floating-point">Floating point</a></h2>
<pre><code class="language-veryl">// floating point
0123456789.0123456789
01_23_45_67_89.01_23_45_67_89

// floating with exponent
0123456789.0123456789e+0123456789
01_23_45_67_89.01_23_45_67_89E-01_23_45_67_89
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-type"><a class="header" href="#data-type">Data Type</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="builtin-type"><a class="header" href="#builtin-type">Builtin Type</a></h1>
<h2 id="4-state-data-type-which-has-variable-width"><a class="header" href="#4-state-data-type-which-has-variable-width">4-state data type which has variable width</a></h2>
<p><code>logic</code> is 4-state (<code>0</code>, <code>1</code>, <code>x</code>, <code>z</code>) data type.
The variable width can be specified by <code>&lt;&gt;</code> after <code>logic</code>.
Multi-dimentional can be specified by <code>&lt;X, Y, Z,,,&gt;</code>.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var _a: logic;
    var _b: logic&lt;10&gt;;
    var _c: logic&lt;10, 10&gt;;
}
</code></pre>
<h2 id="2-state-data-type-which-has-variable-width"><a class="header" href="#2-state-data-type-which-has-variable-width">2-state data type which has variable width</a></h2>
<p><code>bit</code> is 2-state (<code>0</code>, <code>1</code>) data type.
The variable width can be specified by <code>&lt;&gt;</code> after <code>bit</code>.
Multi-dimentional can be specified by <code>&lt;X, Y, Z,,,&gt;</code>.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var _a: bit;
    var _b: bit&lt;10&gt;;
    var _c: bit&lt;10, 10&gt;;
}
</code></pre>
<h2 id="integer-type"><a class="header" href="#integer-type">Integer type</a></h2>
<p>There are some integer types:</p>
<ul>
<li><code>u32</code>: 32bit unsigned integer</li>
<li><code>u64</code>: 64bit unsigned integer</li>
<li><code>i32</code>: 32bit signed integer</li>
<li><code>i64</code>: 64bit signed integer</li>
</ul>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var _a: u32;
    var _b: u64;
    var _c: i32;
    var _d: i64;
}
</code></pre>
<h2 id="floating-point-type"><a class="header" href="#floating-point-type">Floating point type</a></h2>
<p>There are some floating point types:</p>
<ul>
<li><code>f32</code>: 32bit floating point</li>
<li><code>f64</code>: 64bit floating point</li>
</ul>
<p>Both of them are represented as described by IEEE Std 754.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var _a: u32;
    var _b: u64;
    var _c: i32;
    var _d: i64;
}
</code></pre>
<h2 id="string-type"><a class="header" href="#string-type">String type</a></h2>
<p><code>string</code> is string type.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var _a: string;
}
</code></pre>
<h2 id="type-type"><a class="header" href="#type-type">Type type</a></h2>
<p><code>type</code> is a type which represents type kind.
Variable of <code>type</code> can be defined as <code>parameter</code> or <code>localparam</code> only.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    localparam a: type = logic;
    localparam b: type = logic&lt;10&gt;;
    localparam c: type = u32;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="user-defined-type"><a class="header" href="#user-defined-type">User Defined Type</a></h1>
<h2 id="struct"><a class="header" href="#struct">Struct</a></h2>
<p><code>struct</code> is composit data type.
It can contain some fields, and these fields can be access through <code>.</code> operator.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    struct StructA {
        member_a: logic    ,
        member_b: logic&lt;10&gt;,
        member_c: u32      ,
    }

    var a: StructA;

    assign a.member_a = 0;
    assign a.member_b = 1;
    assign a.member_c = 2;
}
</code></pre>
<h2 id="enum"><a class="header" href="#enum">Enum</a></h2>
<p><code>enum</code> is enumerable type.
It has some named variant, and the value of <code>enum</code> can be set to the one of them.
The variant name can be specified by <code>[enum name]::[variant name]</code>.
Each variant has the corresponding integral value.
The value can be specified by <code>=</code>.
Otherwise, it is assigned automatically.</p>
<pre class="playground"><code class="language-veryl">module A {
    enum EnumA: logic&lt;2&gt; {
        member_a,
        member_b,
        member_c = 3,
    }

    var a: EnumA;

    assign a = EnumA::member_a;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="array"><a class="header" href="#array">Array</a></h1>
<p>Array can be defined by appending <code>[]</code> to any data type.
The length of array can be specified by the value in <code>[]</code>.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var a: logic     [20];
    var b: logic&lt;10&gt; [20];
    var c: u32       [20];
    var d: StructA   [20];
    var e: EnumA     [20];

    assign a[0] = 0;
    assign b[0] = 0;
    assign c[0] = 0;
    assign d[0] = 0;
    assign e[0] = 0;
}
</code></pre>
<p>Multi-dimentional array can be defined by <code>[X, Y, Z,,,]</code>.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var a: logic     [10, 20, 30];
    var b: logic&lt;10&gt; [10, 20, 30];
    var c: u32       [10, 20, 30];
    var d: StructA   [10, 20, 30];
    var e: EnumA     [10, 20, 30];

    assign a[0][0][0] = 0;
    assign b[0][0][0] = 0;
    assign c[0][0][0] = 0;
    assign d[0][0][0] = 0;
    assign e[0][0][0] = 0;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="expression"><a class="header" href="#expression">Expression</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operator-1"><a class="header" href="#operator-1">Operator</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="function-call"><a class="header" href="#function-call">Function Call</a></h1>
<pre><code class="language-veryl">a = FunctionA (1, 1);
a = $clog2 (10);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="concatenation"><a class="header" href="#concatenation">Concatenation</a></h1>
<pre><code class="language-veryl">a = {b[10:0], c[4:3]};
a = {b[10:0] repeat 10, c repeat 4};
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="if"><a class="header" href="#if">If</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="case"><a class="header" href="#case">Case</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="declaration"><a class="header" href="#declaration">Declaration</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="variable"><a class="header" href="#variable">Variable</a></h1>
<pre><code class="language-veryl">var var_a: logic        ;
var var_b: logic&lt;10&gt;    ;
var var_c: logic&lt;10, 10&gt;;
var var_d: u32          ;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="parameter"><a class="header" href="#parameter">Parameter</a></h1>
<pre><code class="language-veryl">localparam param_a: u32 = 1;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="register"><a class="header" href="#register">Register</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="combinational"><a class="header" href="#combinational">Combinational</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="assign"><a class="header" href="#assign">Assign</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="function"><a class="header" href="#function">Function</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="module-1"><a class="header" href="#module-1">Module</a></h1>
<pre class="playground"><code class="language-veryl">module mux2to1 (
    a  : input  logic,
    b  : input  logic,
    sel: input  logic,
    y  : output logic,
) {
    always_comb {
        if sel {
            y = a;
        } else {
            y = b;
        }
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interface-1"><a class="header" href="#interface-1">Interface</a></h1>
<pre class="playground"><code class="language-veryl">interface simple_bus {
    var req  : logic;
    var gnt  : logic;
    var addr : logic [8];
    var data : logic [8];
    var mode : logic [2];
    var start: logic;
    var rdy  : logic;

    modport master {
        req  : output,
        addr : output,
        mode : output,
        start: output,
        gnt  : input ,
        rdy  : input ,
        data : ref   ,
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="package-1"><a class="header" href="#package-1">Package</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development-environment"><a class="header" href="#development-environment">Development Environment</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="project-configuration"><a class="header" href="#project-configuration">Project Configuration</a></h1>
<ul>
<li><a href="05_development_environment/01_project_configuration.html#the-project-section"><code>[project]</code></a> — Defines a project.
<ul>
<li><a href="05_development_environment/01_project_configuration.html#the-name-field"><code>name</code></a> — The name of the project.</li>
<li><a href="05_development_environment/01_project_configuration.html#the-version-field"><code>version</code></a> — The version of the project.</li>
<li><a href="05_development_environment/01_project_configuration.html#the-authors-field"><code>authors</code></a> — The authors of the project.</li>
<li><a href="05_development_environment/01_project_configuration.html#the-description-field"><code>description</code></a> — A description of the project.</li>
<li><a href="05_development_environment/01_project_configuration.html#the-license-field"><code>license</code></a> — The project license.</li>
<li><a href="05_development_environment/01_project_configuration.html#the-repository-field"><code>repository</code></a> — URL of the project source repository.</li>
</ul>
</li>
<li><a href="05_development_environment/01_project_configuration.html#the-build-section"><code>[build]</code></a> — Build settings.
<ul>
<li><a href="05_development_environment/01_project_configuration.html#the-clock_type-field"><code>clock_type</code></a> — The type of clock.</li>
<li><a href="05_development_environment/01_project_configuration.html#the-reset_type-field"><code>reset_type</code></a> — The type of reset.</li>
<li><a href="05_development_environment/01_project_configuration.html#the-filelist_type-field"><code>filelist_type</code></a> — The type of filelist.</li>
<li><a href="05_development_environment/01_project_configuration.html#the-target-field"><code>target</code></a> — The way of output.</li>
<li><a href="05_development_environment/01_project_configuration.html#the-implicit_parameter_types-field"><code>implicit_parameter_types</code></a> — Whether implicit parameter type is enabled.</li>
</ul>
</li>
<li><a href="05_development_environment/01_project_configuration.html#the-format-section"><code>[format]</code></a> — Format settings.
<ul>
<li><a href="05_development_environment/01_project_configuration.html#the-indent_width-field"><code>indent_width</code></a> — Indent width by space.</li>
</ul>
</li>
<li><a href="05_development_environment/01_project_configuration.html#the-lint-section"><code>[lint]</code></a> — Lint settings.</li>
<li><a href="05_development_environment/01_project_configuration.html#the-dependencies-section"><code>[dependencies]</code></a> — Library dependencies.</li>
</ul>
<h2 id="the-project-section"><a class="header" href="#the-project-section">The <code>[project]</code> section</a></h2>
<p>The first section of <code>Veryl.toml</code> is <code>[project]</code>.
The mandatory fields are <code>name</code> and <code>version</code>.</p>
<h3 id="the-name-field"><a class="header" href="#the-name-field">The <code>name</code> field</a></h3>
<p>The project name is used as prefix in the generated codes.
So the name must start with alphabet or <code>_</code>, and use only alphanumeric charaters or <code>_</code>.</p>
<h3 id="the-version-field"><a class="header" href="#the-version-field">The <code>version</code> field</a></h3>
<p>The project version should follow <a href="https://semver.org/">Semantic Versioning</a>.
The version is constructed by the following three numbers.</p>
<ul>
<li>Major – increment at incompatible changes</li>
<li>Minor – increment at adding features with backward compatibility</li>
<li>Patch – increment at bug fixes with backward compatibility</li>
</ul>
<pre><code class="language-toml">[project]
version = &quot;0.1.0&quot;
</code></pre>
<h3 id="the-authors-field"><a class="header" href="#the-authors-field">The <code>authors</code> field</a></h3>
<p>The optional <code>authors</code> field lists in an array the people or organizations that are considered the “authors” of the project.
The format of each string in the list is free. Name only, e-mail address only, and name with e-mail address included within angled brackets are commonly used.</p>
<pre><code class="language-toml">[project]
authors = [&quot;Fnu Lnu&quot;, &quot;anonymous@example.com&quot;, &quot;Fnu Lnu &lt;anonymous@example.com&gt;&quot;]
</code></pre>
<h3 id="the-description-field"><a class="header" href="#the-description-field">The <code>description</code> field</a></h3>
<p>The <code>description</code> is a short blurb about the project. This should be plane text (not Markdown).</p>
<h3 id="the-license-field"><a class="header" href="#the-license-field">The <code>license</code> field</a></h3>
<p>The <code>license</code> field contains the name of license that the project is released under.
The string should be follow <a href="https://spdx.org/spdx-specification-21-web-version#h.jxpfx0ykyb60">SPDX 2.1 license expression</a>.</p>
<pre><code class="language-toml">[project]
license = &quot;MIT OR Apache-2.0&quot;
</code></pre>
<h3 id="the-repository-field"><a class="header" href="#the-repository-field">The <code>repository</code> field</a></h3>
<p>The <code>repository</code> field should be a URL to the source repository for the project.</p>
<pre><code class="language-toml">[project]
repository = &quot;https://github.com/dalance/veryl&quot;
</code></pre>
<h2 id="the-build-section"><a class="header" href="#the-build-section">The <code>[build]</code> section</a></h2>
<p>The <code>[build]</code> section contains the configurations of code generation.</p>
<h3 id="the-clock_type-field"><a class="header" href="#the-clock_type-field">The <code>clock_type</code> field</a></h3>
<p>The <code>clock_type</code> field specifies which clock edge is used to drive flip-flop.
The available types are below:</p>
<ul>
<li><code>posedge</code> – positive edge</li>
<li><code>negedge</code> – negetive edge</li>
</ul>
<h3 id="the-reset_type-field"><a class="header" href="#the-reset_type-field">The <code>reset_type</code> field</a></h3>
<p>The <code>reset_type</code> field specifies reset polarity and synchronisity.
The available types are below:</p>
<ul>
<li><code>async_low</code> – asynchronous and active low</li>
<li><code>async_high</code> – asynchronous and active high</li>
<li><code>sync_low</code> – synchronous and active low</li>
<li><code>sync_high</code> – synchronous and active high</li>
</ul>
<h3 id="the-filelist_type-field"><a class="header" href="#the-filelist_type-field">The <code>filelist_type</code> field</a></h3>
<p>The <code>filelist_type</code> field specifies filelist format.
The available types are below:</p>
<ul>
<li><code>absolute</code> – plane text filelist including absolute file paths</li>
<li><code>relative</code> – plane text filelist including relative file paths</li>
<li><code>flgen</code> – <a href="https://github.com/pezy-computing/flgen">flgen</a> filelist</li>
</ul>
<h3 id="the-target-field"><a class="header" href="#the-target-field">The <code>target</code> field</a></h3>
<p>The <code>target</code> field specifies where the generated codes will be placed at.
The available types are below:</p>
<ul>
<li><code>source</code> – as the same directory as the source code</li>
<li><code>directory</code> – specified directory</li>
</ul>
<p>If you want to use <code>directory</code>, you can specify the target directory by <code>path</code> key.</p>
<pre><code class="language-toml">[build]
target = {type = &quot;directory&quot;, path = &quot;[dst dir]&quot;}
</code></pre>
<h3 id="the-implicit_parameter_types-field"><a class="header" href="#the-implicit_parameter_types-field">The <code>implicit_parameter_types</code> field</a></h3>
<p>The <code>target</code> field lists the types which will be elided in <code>parameter</code> declaration of the generated codes.
This is because some EDA tools don’t support <code>parameter</code> declaration with specific types (ex.<code>string</code>).
If you want to elide <code>string</code>, you can specify like below:</p>
<pre><code class="language-toml">[build]
implicit_parameter_types = [&quot;string&quot;]
</code></pre>
<h2 id="the-format-section"><a class="header" href="#the-format-section">The <code>[format]</code> section</a></h2>
<p>The <code>[format]</code> section contains the configurations of code formatter.</p>
<h3 id="the-indent_width-field"><a class="header" href="#the-indent_width-field">The <code>indent_width</code> field</a></h3>
<p>The <code>indent_width</code> field specifies the width of indent.
Veryl formatter will insert indent by <code>indent_width</code> width spaces.</p>
<pre><code class="language-toml">[format]
indent_width = 4
</code></pre>
<h2 id="the-lint-section"><a class="header" href="#the-lint-section">The <code>[lint]</code> section</a></h2>
<p>The <code>[lint]</code> section contains the configurations of linter.
Available configurations is <a href="05_development_environment/./05_linter.html">here</a>.</p>
<h2 id="the-dependencies-section"><a class="header" href="#the-dependencies-section">The <code>[dependencies]</code> section</a></h2>
<p>The <code>[dependencies]</code> section contains library dependencies.
The git URL of a dependency are specified by <code>git</code> key.
<code>rev</code>, <code>tag</code>, and <code>branch</code> key can be used to specify the specific version.</p>
<pre><code class="language-toml">[dependencies]
veryl_sample1 = {git = &quot;https://github.com/dalance/veryl_sample&quot;}
veryl_sample2 = {git = &quot;https://github.com/dalance/veryl_sample&quot;, rev = &quot;9e9a30a&quot;}
veryl_sample3 = {git = &quot;https://github.com/dalance/veryl_sample&quot;, tag = &quot;v0.4&quot;}
veryl_sample4 = {git = &quot;https://github.com/dalance/veryl_sample&quot;, branch = &quot;branch&quot;}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dependencies"><a class="header" href="#dependencies">Dependencies</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="directory-layout"><a class="header" href="#directory-layout">Directory Layout</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="formatter"><a class="header" href="#formatter">Formatter</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="linter"><a class="header" href="#linter">Linter</a></h1>
<p>Lint check is executed at <code>veryl check</code> or <code>veryl build</code>.
Alternatively, language server checks lint in real time.</p>
<p>The available configurations are below.
These can be specified in <code>[lint]</code> section of <code>Veryl.toml</code>.</p>
<pre><code class="language-toml">[lint.naming]
case_enum = &quot;snake&quot;
</code></pre>
<h2 id="the-lintnaming-section"><a class="header" href="#the-lintnaming-section">The <code>[lint.naming]</code> section</a></h2>
<p>This section contains configurations of naming conventions.</p>
<div class="table-wrapper"><table><thead><tr><th>Configuration</th><th>Value</th><th>Description</th></tr></thead><tbody>
<tr><td>case_enum</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of <code>enum</code></td></tr>
<tr><td>case_function</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of <code>function</code></td></tr>
<tr><td>case_instance</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of instance</td></tr>
<tr><td>case_interface</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of <code>interface</code></td></tr>
<tr><td>case_modport</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of <code>modport</code></td></tr>
<tr><td>case_module</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of <code>module</code></td></tr>
<tr><td>case_package</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of <code>package</code></td></tr>
<tr><td>case_parameter</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of <code>parameter</code></td></tr>
<tr><td>case_port_inout</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of <code>inout</code> port</td></tr>
<tr><td>case_port_input</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of <code>input</code> port</td></tr>
<tr><td>case_port_modport</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of <code>modport</code> port</td></tr>
<tr><td>case_port_output</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of <code>output</code> port</td></tr>
<tr><td>case_reg</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of register type variable<sup class="footnote-reference"><a href="#reg">2</a></sup></td></tr>
<tr><td>case_struct</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of <code>struct</code></td></tr>
<tr><td>case_wire</td><td>case type<sup class="footnote-reference"><a href="#casetype">1</a></sup></td><td>case style of wire type variable<sup class="footnote-reference"><a href="#wire">3</a></sup></td></tr>
<tr><td>prefix_enum</td><td>string</td><td>prefix of <code>enum</code></td></tr>
<tr><td>prefix_function</td><td>string</td><td>prefix of <code>function</code></td></tr>
<tr><td>prefix_instance</td><td>string</td><td>prefix of instance</td></tr>
<tr><td>prefix_interface</td><td>string</td><td>prefix of <code>interface</code></td></tr>
<tr><td>prefix_modport</td><td>string</td><td>prefix of <code>modport</code></td></tr>
<tr><td>prefix_module</td><td>string</td><td>prefix of <code>module</code></td></tr>
<tr><td>prefix_package</td><td>string</td><td>prefix of <code>package</code></td></tr>
<tr><td>prefix_parameter</td><td>string</td><td>prefix of <code>parameter</code></td></tr>
<tr><td>prefix_port_inout</td><td>string</td><td>prefix of <code>inout</code> port</td></tr>
<tr><td>prefix_port_input</td><td>string</td><td>prefix of <code>input</code> port</td></tr>
<tr><td>prefix_port_modport</td><td>string</td><td>prefix of <code>modport</code> port</td></tr>
<tr><td>prefix_port_output</td><td>string</td><td>prefix of <code>output</code> port</td></tr>
<tr><td>prefix_reg</td><td>string</td><td>prefix of register type variable<sup class="footnote-reference"><a href="#reg">2</a></sup></td></tr>
<tr><td>prefix_struct</td><td>string</td><td>prefix of <code>struct</code></td></tr>
<tr><td>prefix_wire</td><td>string</td><td>prefix of wire type variable<sup class="footnote-reference"><a href="#wire">3</a></sup></td></tr>
<tr><td>re_forbidden_enum</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of <code>enum</code></td></tr>
<tr><td>re_forbidden_function</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of <code>function</code></td></tr>
<tr><td>re_forbidden_instance</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of instance</td></tr>
<tr><td>re_forbidden_interface</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of <code>interface</code></td></tr>
<tr><td>re_forbidden_modport</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of <code>modport</code></td></tr>
<tr><td>re_forbidden_module</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of <code>module</code></td></tr>
<tr><td>re_forbidden_package</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of <code>package</code></td></tr>
<tr><td>re_forbidden_parameter</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of <code>parameter</code></td></tr>
<tr><td>re_forbidden_port_inout</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of <code>inout</code> port</td></tr>
<tr><td>re_forbidden_port_input</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of <code>input</code> port</td></tr>
<tr><td>re_forbidden_port_modport</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of <code>modport</code> port</td></tr>
<tr><td>re_forbidden_port_output</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of <code>output</code> port</td></tr>
<tr><td>re_forbidden_reg</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of register type variable<sup class="footnote-reference"><a href="#reg">2</a></sup></td></tr>
<tr><td>re_forbidden_struct</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of <code>struct</code></td></tr>
<tr><td>re_forbidden_wire</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex forbidden of wire type variable<sup class="footnote-reference"><a href="#wire">3</a></sup></td></tr>
<tr><td>re_required_enum</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of <code>enum</code></td></tr>
<tr><td>re_required_function</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of <code>function</code></td></tr>
<tr><td>re_required_instance</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of instance</td></tr>
<tr><td>re_required_interface</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of <code>interface</code></td></tr>
<tr><td>re_required_modport</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of <code>modport</code></td></tr>
<tr><td>re_required_module</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of <code>module</code></td></tr>
<tr><td>re_required_package</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of <code>package</code></td></tr>
<tr><td>re_required_parameter</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of <code>parameter</code></td></tr>
<tr><td>re_required_port_inout</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of <code>inout</code> port</td></tr>
<tr><td>re_required_port_input</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of <code>input</code> port</td></tr>
<tr><td>re_required_port_modport</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of <code>modport</code> port</td></tr>
<tr><td>re_required_port_output</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of <code>output</code> port</td></tr>
<tr><td>re_required_reg</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of register type variable<sup class="footnote-reference"><a href="#reg">2</a></sup></td></tr>
<tr><td>re_required_struct</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of <code>struct</code></td></tr>
<tr><td>re_required_wire</td><td>regex<sup class="footnote-reference"><a href="#regex">4</a></sup></td><td>regex required of wire type variable<sup class="footnote-reference"><a href="#wire">3</a></sup></td></tr>
</tbody></table>
</div>
<div class="footnote-definition" id="casetype"><sup class="footnote-definition-label">1</sup>
<p>The available values are </p>
<ul>
<li><code>&quot;snake&quot;</code> – snake_case</li>
<li><code>&quot;screaming_snake&quot;</code> – SCREAMING_SNAKE_CASE</li>
<li><code>&quot;lower_camel&quot;</code> – lowerCamelCase</li>
<li><code>&quot;upper_camel&quot;</code> – UpperCamelCase</li>
</ul>
<div class="footnote-definition" id="regex"><sup class="footnote-definition-label">4</sup>
<p>Regular expression string like <code>&quot;.*&quot;</code>. The available syntax is <a href="https://docs.rs/regex/latest/regex/#syntax">here</a>.</p>
</div>
<div class="footnote-definition" id="reg"><sup class="footnote-definition-label">2</sup>
<p>Register type means that the variable is assigned in <code>always_ff</code>. It will be mapped to flip-flop in synthesis phase.</p>
</div>
<div class="footnote-definition" id="wire"><sup class="footnote-definition-label">3</sup>
<p>Wire type means that the variable is assigned in <code>always_comb</code>. It will be mapped to wire in synthesis phase.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="language-server"><a class="header" href="#language-server">Language Server</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="appendix"><a class="header" href="#appendix">Appendix</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="formal-syntax"><a class="header" href="#formal-syntax">Formal Syntax</a></h1>
<p>Veryl’s parser is based on parser generator <a href="https://github.com/jsinger67/parol">parol</a>.
The following syntex definition of parol is formal syntax.</p>
<pre><code>
%start Veryl
%title &quot;Veryl grammar&quot;
%comment &quot;Empty grammar generated by `parol`&quot;
%user_type VerylToken = crate::veryl_token::VerylToken
%user_type Token = crate::veryl_token::Token

%%

// ----------------------------------------------------------------------------
// Terminal
// ----------------------------------------------------------------------------

// Longest match should be first

CommentsTerm          : &quot;(?:(?:(?://.*(?:\r\n|\r|\n|$))|(?:(?ms)/\u{2a}.*?\u{2a}/))\s*)+&quot;                     : Token;
StringLiteralTerm     : &quot;\u{0022}(?:\\[\u{0022}\\/bfnrt]|u[0-9a-fA-F]{4}|[^\u{0022}\\\u0000-\u001F])*\u{0022}&quot;: Token;
ExponentTerm          : /[0-9]+(?:_[0-9]+)*\.[0-9]+(?:_[0-9]+)*[eE][+-]?[0-9]+(?:_[0-9]+)*/                   : Token;
FixedPointTerm        : /[0-9]+(?:_[0-9]+)*\.[0-9]+(?:_[0-9]+)*/                                              : Token;
BasedTerm             : /[0-9]+(?:_[0-9]+)*'[bodh][0-9a-fA-FxzXZ]+(?:_[0-9a-fA-FxzXZ]+)*/                     : Token;
BaseLessTerm          : /[0-9]+(?:_[0-9]+)*/                                                                  : Token;
AllBitTerm            : /'[01xzXZ]/                                                                           : Token;
MinusColonTerm        : '-:'                                                                                  : Token;
MinusGTTerm           : '-&gt;'                                                                                  : Token;
PlusColonTerm         : '+:'                                                                                  : Token;
AssignmentOperatorTerm: &quot;\+=|-=|\*=|/=|%=|&amp;=|\|=|\^=|&lt;&lt;=|&gt;&gt;=|&lt;&lt;&lt;=|&gt;&gt;&gt;=&quot;                                       : Token;
Operator11Term        : &quot;\*\*&quot;                                                                                : Token;
Operator10Term        : &quot;/|%&quot;                                                                                 : Token;
Operator09Term        : &quot;\+|-&quot;                                                                                : Token;
Operator08Term        : &quot;&lt;&lt;&lt;|&gt;&gt;&gt;|&lt;&lt;|&gt;&gt;&quot;                                                                       : Token;
Operator07Term        : &quot;&lt;=|&gt;=|&lt;:|&gt;:&quot;                                                                         : Token;
Operator06Term        : &quot;===|==\?|!==|!=\?|==|!=&quot;                                                             : Token;
Operator02Term        : &quot;&amp;&amp;&quot;                                                                                  : Token;
Operator01Term        : &quot;\|\|&quot;                                                                                : Token;
Operator05Term        : &quot;&amp;&quot;                                                                                   : Token;
Operator04Term        : &quot;\^~|\^|~\^&quot;                                                                          : Token;
Operator03Term        : &quot;\|&quot;                                                                                  : Token;
UnaryOperatorTerm     : &quot;~&amp;|~\||!|~&quot;                                                                          : Token;
ColonColonTerm        : '::'                                                                                  : Token;
ColonTerm             : ':'                                                                                   : Token;
CommaTerm             : ','                                                                                   : Token;
DollarTerm            : '$'                                                                                   : Token;
DotDotTerm            : '..'                                                                                  : Token;
DotTerm               : '.'                                                                                   : Token;
EquTerm               : '='                                                                                   : Token;
HashTerm              : '#'                                                                                   : Token;
LAngleTerm            : '&lt;'                                                                                   : Token;
LBraceTerm            : '{'                                                                                   : Token;
LBracketTerm          : '['                                                                                   : Token;
LParenTerm            : '('                                                                                   : Token;
RAngleTerm            : '&gt;'                                                                                   : Token;
RBraceTerm            : '}'                                                                                   : Token;
RBracketTerm          : ']'                                                                                   : Token;
RParenTerm            : ')'                                                                                   : Token;
SemicolonTerm         : ';'                                                                                   : Token;
StarTerm              : '*'                                                                                   : Token;
AlwaysCombTerm        : /\balways_comb\b/                                                                     : Token;
AlwaysFfTerm          : /\balways_ff\b/                                                                       : Token;
AssignTerm            : /\bassign\b/                                                                          : Token;
AsyncHighTerm         : /\basync_high\b/                                                                      : Token;
AsyncLowTerm          : /\basync_low\b/                                                                       : Token;
AsTerm                : /\bas\b/                                                                              : Token;
BitTerm               : /\bbit\b/                                                                             : Token;
CaseTerm              : /\bcase\b/                                                                            : Token;
DefaultTerm           : /\bdefault\b/                                                                         : Token;
ElseTerm              : /\belse\b/                                                                            : Token;
EnumTerm              : /\benum\b/                                                                            : Token;
ExportTerm            : /\bexport\b/                                                                          : Token;
F32Term               : /\bf32\b/                                                                             : Token;
F64Term               : /\bf64\b/                                                                             : Token;
ForTerm               : /\bfor\b/                                                                             : Token;
FunctionTerm          : /\bfunction\b/                                                                        : Token;
I32Term               : /\bi32\b/                                                                             : Token;
I64Term               : /\bi64\b/                                                                             : Token;
IfResetTerm           : /\bif_reset\b/                                                                        : Token;
IfTerm                : /\bif\b/                                                                              : Token;
ImportTerm            : /\bimport\b/                                                                          : Token;
InoutTerm             : /\binout\b/                                                                           : Token;
InputTerm             : /\binput\b/                                                                           : Token;
InstTerm              : /\binst\b/                                                                            : Token;
InterfaceTerm         : /\binterface\b/                                                                       : Token;
InTerm                : /\bin\b/                                                                              : Token;
LocalparamTerm        : /\blocalparam\b/                                                                      : Token;
LogicTerm             : /\blogic\b/                                                                           : Token;
LsbTerm               : /\blsb\b/                                                                             : Token;
ModportTerm           : /\bmodport\b/                                                                         : Token;
ModuleTerm            : /\bmodule\b/                                                                          : Token;
MsbTerm               : /\bmsb\b/                                                                             : Token;
NegedgeTerm           : /\bnegedge\b/                                                                         : Token;
OutputTerm            : /\boutput\b/                                                                          : Token;
PackageTerm           : /\bpackage\b/                                                                         : Token;
ParameterTerm         : /\bparameter\b/                                                                       : Token;
PosedgeTerm           : /\bposedge\b/                                                                         : Token;
RefTerm               : /\bref\b/                                                                             : Token;
RepeatTerm            : /\brepeat\b/                                                                          : Token;
ReturnTerm            : /\breturn\b/                                                                          : Token;
SignedTerm            : /\bsigned\b/                                                                          : Token;
StepTerm              : /\bstep\b/                                                                            : Token;
StringTerm            : /\bstring\b/                                                                          : Token;
StructTerm            : /\bstruct\b/                                                                          : Token;
SyncHighTerm          : /\bsync_high\b/                                                                       : Token;
SyncLowTerm           : /\bsync_low\b/                                                                        : Token;
TriTerm               : /\btri\b/                                                                             : Token;
TypeTerm              : /\btype\b/                                                                            : Token;
U32Term               : /\bu32\b/                                                                             : Token;
U64Term               : /\bu64\b/                                                                             : Token;
VarTerm               : /\bvar\b/                                                                             : Token;
IdentifierTerm        : /[a-zA-Z_][0-9a-zA-Z_]*/                                                              : Token;

// ----------------------------------------------------------------------------
// Token
// ----------------------------------------------------------------------------

Comments: [ CommentsTerm ];

StartToken: Comments;

StringLiteralToken: StringLiteralTerm: Token Comments;

ExponentToken  : ExponentTerm  : Token Comments;
FixedPointToken: FixedPointTerm: Token Comments;
BasedToken     : BasedTerm     : Token Comments;
BaseLessToken  : BaseLessTerm  : Token Comments;
AllBitToken    : AllBitTerm    : Token Comments;

AssignmentOperatorToken: AssignmentOperatorTerm: Token Comments;
Operator01Token        : Operator01Term        : Token Comments;
Operator02Token        : Operator02Term        : Token Comments;
Operator03Token        : Operator03Term        : Token Comments;
Operator04Token        : Operator04Term        : Token Comments;
Operator05Token        : Operator05Term        : Token Comments;
Operator06Token        : Operator06Term        : Token Comments;
Operator07Token        : Operator07Term        : Token Comments;
Operator08Token        : Operator08Term        : Token Comments;
Operator09Token        : Operator09Term        : Token Comments;
Operator10Token        : Operator10Term        : Token Comments;
Operator11Token        : Operator11Term        : Token Comments;
UnaryOperatorToken     : UnaryOperatorTerm     : Token Comments;

ColonToken     : ColonTerm     : Token Comments;
ColonColonToken: ColonColonTerm: Token Comments;
CommaToken     : CommaTerm     : Token Comments;
DollarToken    : DollarTerm    : Token Comments;
DotDotToken    : DotDotTerm    : Token Comments;
DotToken       : DotTerm       : Token Comments;
EquToken       : EquTerm       : Token Comments;
HashToken      : HashTerm      : Token Comments;
LAngleToken    : LAngleTerm    : Token Comments;
LBraceToken    : LBraceTerm    : Token Comments;
LBracketToken  : LBracketTerm  : Token Comments;
LParenToken    : LParenTerm    : Token Comments;
MinusColonToken: MinusColonTerm: Token Comments;
MinusGTToken   : MinusGTTerm   : Token Comments;
PlusColonToken : PlusColonTerm : Token Comments;
RAngleToken    : RAngleTerm    : Token Comments;
RBraceToken    : RBraceTerm    : Token Comments;
RBracketToken  : RBracketTerm  : Token Comments;
RParenToken    : RParenTerm    : Token Comments;
SemicolonToken : SemicolonTerm : Token Comments;
StarToken      : StarTerm      : Token Comments;

AlwaysCombToken: AlwaysCombTerm: Token Comments;
AlwaysFfToken  : AlwaysFfTerm  : Token Comments;
AsToken        : AsTerm        : Token Comments;
AssignToken    : AssignTerm    : Token Comments;
AsyncHighToken : AsyncHighTerm : Token Comments;
AsyncLowToken  : AsyncLowTerm  : Token Comments;
BitToken       : BitTerm       : Token Comments;
CaseToken      : CaseTerm      : Token Comments;
DefaultToken   : DefaultTerm   : Token Comments;
ElseToken      : ElseTerm      : Token Comments;
EnumToken      : EnumTerm      : Token Comments;
ExportToken    : ExportTerm    : Token Comments;
F32Token       : F32Term       : Token Comments;
F64Token       : F64Term       : Token Comments;
ForToken       : ForTerm       : Token Comments;
FunctionToken  : FunctionTerm  : Token Comments;
I32Token       : I32Term       : Token Comments;
I64Token       : I64Term       : Token Comments;
IfResetToken   : IfResetTerm   : Token Comments;
IfToken        : IfTerm        : Token Comments;
ImportToken    : ImportTerm    : Token Comments;
InoutToken     : InoutTerm     : Token Comments;
InputToken     : InputTerm     : Token Comments;
InstToken      : InstTerm      : Token Comments;
InterfaceToken : InterfaceTerm : Token Comments;
InToken        : InTerm        : Token Comments;
LocalparamToken: LocalparamTerm: Token Comments;
LogicToken     : LogicTerm     : Token Comments;
LsbToken       : LsbTerm       : Token Comments;
ModportToken   : ModportTerm   : Token Comments;
ModuleToken    : ModuleTerm    : Token Comments;
MsbToken       : MsbTerm       : Token Comments;
NegedgeToken   : NegedgeTerm   : Token Comments;
OutputToken    : OutputTerm    : Token Comments;
PackageToken   : PackageTerm   : Token Comments;
ParameterToken : ParameterTerm : Token Comments;
PosedgeToken   : PosedgeTerm   : Token Comments;
RefToken       : RefTerm       : Token Comments;
RepeatToken    : RepeatTerm    : Token Comments;
ReturnToken    : ReturnTerm    : Token Comments;
SignedToken    : SignedTerm    : Token Comments;
StepToken      : StepTerm      : Token Comments;
StringToken    : StringTerm    : Token Comments;
StructToken    : StructTerm    : Token Comments;
SyncHighToken  : SyncHighTerm  : Token Comments;
SyncLowToken   : SyncLowTerm   : Token Comments;
TriToken       : TriTerm       : Token Comments;
TypeToken      : TypeTerm      : Token Comments;
U32Token       : U32Term       : Token Comments;
U64Token       : U64Term       : Token Comments;
VarToken       : VarTerm       : Token Comments;

IdentifierToken: IdentifierTerm: Token Comments;

// ----------------------------------------------------------------------------
// VerylToken
// ----------------------------------------------------------------------------

// Start
Start: StartToken: VerylToken;

// StringLiteral
StringLiteral: StringLiteralToken: VerylToken;

// Number
Exponent  : ExponentToken  : VerylToken;
FixedPoint: FixedPointToken: VerylToken;
Based     : BasedToken     : VerylToken;
BaseLess  : BaseLessToken  : VerylToken;
AllBit    : AllBitToken    : VerylToken;

// Operator
AssignmentOperator: AssignmentOperatorToken: VerylToken;
Operator01        : Operator01Token        : VerylToken;
Operator02        : Operator02Token        : VerylToken;
Operator03        : Operator03Token        : VerylToken;
Operator04        : Operator04Token        : VerylToken;
Operator05        : Operator05Token        : VerylToken;
Operator06        : Operator06Token        : VerylToken;
Operator07        : Operator07Token        : VerylToken;
Operator08        : Operator08Token        : VerylToken;
Operator09        : Operator09Token        : VerylToken;
Operator10        : Operator10Token        : VerylToken;
Operator11        : Operator11Token        : VerylToken;
UnaryOperator     : UnaryOperatorToken     : VerylToken;

// Symbol
Colon     : ColonToken     : VerylToken;
ColonColon: ColonColonToken: VerylToken;
Comma     : CommaToken     : VerylToken;
Dollar    : DollarToken    : VerylToken;
DotDot    : DotDotToken    : VerylToken;
Dot       : DotToken       : VerylToken;
Equ       : EquToken       : VerylToken;
Hash      : HashToken      : VerylToken;
LAngle    : LAngleToken    : VerylToken;
LBrace    : LBraceToken    : VerylToken;
LBracket  : LBracketToken  : VerylToken;
LParen    : LParenToken    : VerylToken;
MinusColon: MinusColonToken: VerylToken;
MinusGT   : MinusGTToken   : VerylToken;
PlusColon : PlusColonToken : VerylToken;
RAngle    : RAngleToken    : VerylToken;
RBrace    : RBraceToken    : VerylToken;
RBracket  : RBracketToken  : VerylToken;
RParen    : RParenToken    : VerylToken;
Semicolon : SemicolonToken : VerylToken;
Star      : StarToken      : VerylToken;

// Keyword
AlwaysComb: AlwaysCombToken: VerylToken;
AlwaysFf  : AlwaysFfToken  : VerylToken;
As        : AsToken        : VerylToken;
Assign    : AssignToken    : VerylToken;
AsyncHigh : AsyncHighToken : VerylToken;
AsyncLow  : AsyncLowToken  : VerylToken;
Bit       : BitToken       : VerylToken;
Case      : CaseToken      : VerylToken;
Defaul    : DefaultToken   : VerylToken; // avoid to conflict with Rust's Default trait
Else      : ElseToken      : VerylToken;
Enum      : EnumToken      : VerylToken;
Export    : ExportToken    : VerylToken;
F32       : F32Token       : VerylToken;
F64       : F64Token       : VerylToken;
For       : ForToken       : VerylToken;
Function  : FunctionToken  : VerylToken;
I32       : I32Token       : VerylToken;
I64       : I64Token       : VerylToken;
If        : IfToken        : VerylToken;
IfReset   : IfResetToken   : VerylToken;
Import    : ImportToken    : VerylToken;
In        : InToken        : VerylToken;
Inout     : InoutToken     : VerylToken;
Input     : InputToken     : VerylToken;
Inst      : InstToken      : VerylToken;
Interface : InterfaceToken : VerylToken;
Localparam: LocalparamToken: VerylToken;
Logic     : LogicToken     : VerylToken;
Lsb       : LsbToken       : VerylToken;
Modport   : ModportToken   : VerylToken;
Module    : ModuleToken    : VerylToken;
Msb       : MsbToken       : VerylToken;
Negedge   : NegedgeToken   : VerylToken;
Output    : OutputToken    : VerylToken;
Package   : PackageToken   : VerylToken;
Parameter : ParameterToken : VerylToken;
Posedge   : PosedgeToken   : VerylToken;
Ref       : RefToken       : VerylToken;
Repeat    : RepeatToken    : VerylToken;
Return    : ReturnToken    : VerylToken;
Signed    : SignedToken    : VerylToken;
Step      : StepToken      : VerylToken;
Strin     : StringToken    : VerylToken; // avoid to conflict with Rust's String struct
Struct    : StructToken    : VerylToken;
SyncHigh  : SyncHighToken  : VerylToken;
SyncLow   : SyncLowToken   : VerylToken;
Tri       : TriToken       : VerylToken;
Type      : TypeToken      : VerylToken;
U32       : U32Token       : VerylToken;
U64       : U64Token       : VerylToken;
Var       : VarToken       : VerylToken;

// Identifier
Identifier: IdentifierToken: VerylToken;

// ----------------------------------------------------------------------------
// Number
// ----------------------------------------------------------------------------

Number: IntegralNumber
      | RealNumber
      ;

IntegralNumber: Based
              | BaseLess
              | AllBit
              ;

RealNumber: FixedPoint
          | Exponent
          ;

// ----------------------------------------------------------------------------
// Complex Identifier
// ----------------------------------------------------------------------------

HierarchicalIdentifier: Identifier { Range } { Dot Identifier { Range } };
ScopedIdentifier      : Identifier { ColonColon Identifier };
ExpressionIdentifier  : [ Dollar ] Identifier ( ColonColon Identifier { ColonColon Identifier } { Range } | ( { Range } { Dot Identifier { Range } } ) );

// ----------------------------------------------------------------------------
// Expression
// ----------------------------------------------------------------------------

Expression  : Expression01 { Operator01 Expression01 };
Expression01: Expression02 { Operator02 Expression02 };
Expression02: Expression03 { Operator03 Expression03 };
Expression03: Expression04 { Operator04 Expression04 };
Expression04: Expression05 { Operator05 Expression05 };
Expression05: Expression06 { Operator06 Expression06 };
Expression06: Expression07 { Operator07 Expression07 };
Expression07: Expression08 { Operator08 Expression08 };
Expression08: Expression09 { Operator09 Expression09 };
Expression09: Expression10 { ( Operator10 | Star ) Expression10 };
Expression10: Expression11 { Operator11 Expression11 };
Expression11: Expression12 { As ScopedIdentifier };
Expression12: { ( UnaryOperator | Operator09 | Operator05 | Operator03 | Operator04 ) } Factor;

Factor: Number
      | ExpressionIdentifier [ FunctionCall ]
      | LParen Expression RParen
      | LBrace ConcatenationList RBrace
      | IfExpression
      | CaseExpression
      | StringLiteral
      | ( Msb | Lsb )
      ;

FunctionCall: LParen [ ArgumentList ] RParen;

ArgumentList: ArgumentItem { Comma ArgumentItem } [ Comma ];

ArgumentItem: Expression;

ConcatenationList: ConcatenationItem { Comma ConcatenationItem } [ Comma ];

ConcatenationItem: Expression [ Repeat Expression ];

IfExpression: If Expression LBrace Expression RBrace { Else If Expression LBrace Expression RBrace } Else LBrace Expression RBrace;

CaseExpression: Case Expression LBrace Expression Colon Expression Comma { Expression Colon Expression Comma } Defaul Colon Expression [ Comma ] RBrace;

TypeExpression: ScalarType
              | Type LParen Expression RParen
              ;

// ----------------------------------------------------------------------------
// Range / Width / Array
// ----------------------------------------------------------------------------

Range: LBracket Expression [ RangeOperator Expression ] RBracket;

RangeOperator: Colon
             | PlusColon
             | MinusColon
             | Step
             ;

Width: LAngle Expression { Comma Expression } RAngle;

Array: LBracket Expression { Comma Expression } RBracket;

// ----------------------------------------------------------------------------
// ScalarType / ArrayType
// ----------------------------------------------------------------------------

FixedType: U32 | U64 | I32 | I64 | F32 | F64 | Strin;

VariableType: ( Logic | Bit | ScopedIdentifier ) [ Width ];

TypeModifier: Tri | Signed;

ScalarType: { TypeModifier } ( VariableType | FixedType );

ArrayType: ScalarType [ Array ];

// ----------------------------------------------------------------------------
// Statement
// ----------------------------------------------------------------------------

Statement: AssignmentStatement
         | IfStatement
         | IfResetStatement
         | ReturnStatement
         | ForStatement
         | CaseStatement
         ;

AssignmentStatement: HierarchicalIdentifier ( Equ | AssignmentOperator ) Expression Semicolon;

IfStatement: If Expression LBrace { Statement } RBrace { Else If Expression LBrace { Statement } RBrace } [ Else LBrace { Statement } RBrace ];

IfResetStatement: IfReset LBrace { Statement } RBrace { Else If Expression LBrace { Statement } RBrace } [ Else LBrace { Statement } RBrace ];

ReturnStatement: Return Expression Semicolon;

ForStatement: For Identifier Colon ScalarType In Expression DotDot Expression [ Step AssignmentOperator Expression ] LBrace { Statement } RBrace;

CaseStatement: Case Expression LBrace { CaseItem } RBrace;

CaseItem: ( Expression | Defaul ) Colon ( Statement | LBrace { Statement } RBrace );

// ----------------------------------------------------------------------------
// Attribute
// ----------------------------------------------------------------------------

Attribute: Hash LBracket Identifier [ LParen AttributeList RParen ] RBracket;

AttributeList: AttributeItem { Comma AttributeItem } [ Comma ];

AttributeItem: Identifier
             | StringLiteral
             ;

// ----------------------------------------------------------------------------
// Declaration
// ----------------------------------------------------------------------------

VarDeclaration: Var Identifier Colon ArrayType [ Equ Expression ] Semicolon;

LocalparamDeclaration: Localparam Identifier Colon ( ArrayType Equ Expression | Type Equ TypeExpression ) Semicolon;

AlwaysFfDeclaration: AlwaysFf LParen AlwaysFfClock [ Comma AlwaysFfReset ] RParen LBrace { Statement } RBrace;

AlwaysFfClock: [ Posedge | Negedge ] HierarchicalIdentifier;

AlwaysFfReset: [ AsyncLow | AsyncHigh | SyncLow | SyncHigh ] HierarchicalIdentifier;

AlwaysCombDeclaration: AlwaysComb LBrace { Statement } RBrace;

AssignDeclaration: Assign HierarchicalIdentifier Equ Expression Semicolon;

ModportDeclaration: Modport Identifier LBrace ModportList RBrace;

ModportList: ModportGroup { Comma ModportGroup } [ Comma ];

ModportGroup: { Attribute } ( LBrace ModportList RBrace | ModportItem );

ModportItem: Identifier Colon Direction;

EnumDeclaration: Enum Identifier Colon ScalarType LBrace EnumList RBrace;

EnumList: EnumGroup { Comma EnumGroup } [ Comma ];

EnumGroup: { Attribute } ( LBrace EnumList RBrace | EnumItem );

EnumItem: Identifier [ Equ Expression ];

StructDeclaration: Struct Identifier LBrace StructList RBrace;

StructList: StructGroup { Comma StructGroup } [ Comma ];

StructGroup: { Attribute } ( LBrace StructList RBrace | StructItem );

StructItem: Identifier Colon ScalarType;

// ----------------------------------------------------------------------------
// InstDeclaration
// ----------------------------------------------------------------------------

InstDeclaration: Inst Identifier Colon ScopedIdentifier [ Array ] [ InstParameter ] [ LParen [ InstPortList ] RParen ] Semicolon;

InstParameter: Hash LParen [ InstParameterList ] RParen;

InstParameterList: InstParameterGroup { Comma InstParameterGroup } [ Comma ];

InstParameterGroup: { Attribute } ( LBrace InstParameterList RBrace | InstParameterItem );

InstParameterItem: Identifier [ Colon Expression ];

InstPortList: InstPortGroup { Comma InstPortGroup } [ Comma ];

InstPortGroup: { Attribute } ( LBrace InstPortList RBrace | InstPortItem );

InstPortItem: Identifier [ Colon Expression ];

// ----------------------------------------------------------------------------
// WithParameter
// ----------------------------------------------------------------------------

WithParameter: Hash LParen [ WithParameterList ] RParen;

WithParameterList: WithParameterGroup { Comma WithParameterGroup } [ Comma ];

WithParameterGroup: { Attribute } ( LBrace WithParameterList RBrace | WithParameterItem );

WithParameterItem: ( Parameter | Localparam ) Identifier Colon ( ArrayType Equ Expression | Type Equ TypeExpression );

// ----------------------------------------------------------------------------
// PortDeclaration
// ----------------------------------------------------------------------------

PortDeclaration: LParen [ PortDeclarationList ] RParen;

PortDeclarationList: PortDeclarationGroup { Comma PortDeclarationGroup } [ Comma ];

PortDeclarationGroup: { Attribute } ( LBrace PortDeclarationList RBrace | PortDeclarationItem );

PortDeclarationItem: Identifier Colon ( Direction ArrayType | Interface [ Array ] );

Direction: Input
         | Output
         | Inout
         | Ref
         | Modport
         ;

// ----------------------------------------------------------------------------
// Function
// ----------------------------------------------------------------------------

FunctionDeclaration: Function Identifier [ WithParameter ] [ PortDeclaration ] MinusGT ScalarType LBrace { FunctionItem } RBrace;

FunctionItem: VarDeclaration
            | Statement
            ;

// ----------------------------------------------------------------------------
// Import / Export
// ----------------------------------------------------------------------------

ImportDeclaration: Import Identifier ColonColon ( Identifier | Star ) Semicolon;

ExportDeclaration: Export ( Identifier | Star ) ColonColon ( Identifier | Star ) Semicolon;

// ----------------------------------------------------------------------------
// Module
// ----------------------------------------------------------------------------

ModuleDeclaration: Module Identifier [ WithParameter ] [ PortDeclaration ] LBrace { ModuleGroup } RBrace;

ModuleIfDeclaration: If Expression ModuleNamedBlock { Else If Expression ModuleOptionalNamedBlock } [ Else ModuleOptionalNamedBlock ];

ModuleForDeclaration: For Identifier In Expression DotDot Expression [ Step AssignmentOperator Expression ] ModuleNamedBlock;

ModuleNamedBlock: Colon Identifier LBrace { ModuleGroup } RBrace;

ModuleOptionalNamedBlock: [ Colon Identifier ] LBrace { ModuleGroup } RBrace;

ModuleGroup: { Attribute } ( LBrace { ModuleGroup } RBrace | ModuleItem );

ModuleItem: VarDeclaration
          | InstDeclaration
          | LocalparamDeclaration
          | AlwaysFfDeclaration
          | AlwaysCombDeclaration
          | AssignDeclaration
          | FunctionDeclaration
          | ModuleIfDeclaration
          | ModuleForDeclaration
          | EnumDeclaration
          | StructDeclaration
          | ModuleNamedBlock
          | ImportDeclaration
          ;

// ----------------------------------------------------------------------------
// Interface
// ----------------------------------------------------------------------------

InterfaceDeclaration: Interface Identifier [ WithParameter ] LBrace { InterfaceGroup } RBrace;

InterfaceIfDeclaration: If Expression InterfaceNamedBlock { Else If Expression InterfaceOptionalNamedBlock } [ Else InterfaceOptionalNamedBlock ];

InterfaceForDeclaration: For Identifier In Expression DotDot Expression [ Step AssignmentOperator Expression ] InterfaceNamedBlock;

InterfaceNamedBlock: Colon Identifier LBrace { InterfaceGroup } RBrace;

InterfaceOptionalNamedBlock: [ Colon Identifier ] LBrace { InterfaceGroup } RBrace;

InterfaceGroup: { Attribute } ( LBrace { InterfaceGroup } RBrace | InterfaceItem );

InterfaceItem: VarDeclaration
             | LocalparamDeclaration
             | ModportDeclaration
             | InterfaceIfDeclaration
             | InterfaceForDeclaration
             | EnumDeclaration
             | StructDeclaration
             | InterfaceNamedBlock
             | FunctionDeclaration
             | ImportDeclaration
             ;

// ----------------------------------------------------------------------------
// Package
// ----------------------------------------------------------------------------

PackageDeclaration: Package Identifier LBrace { PackageGroup } RBrace;

PackageGroup: { Attribute } ( LBrace { PackageGroup } RBrace | PackageItem );

PackageItem: VarDeclaration
           | LocalparamDeclaration
           | EnumDeclaration
           | StructDeclaration
           | FunctionDeclaration
           | ImportDeclaration
           | ExportDeclaration
           ;

// ----------------------------------------------------------------------------
// Description
// ----------------------------------------------------------------------------

DescriptionGroup: { Attribute } ( LBrace { DescriptionGroup } RBrace | DescriptionItem );

DescriptionItem: ModuleDeclaration
               | InterfaceDeclaration
               | PackageDeclaration
               | ImportDeclaration
               ;

// ----------------------------------------------------------------------------
// SourceCode
// ----------------------------------------------------------------------------

Veryl: Start { DescriptionGroup };
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="semantic-error"><a class="header" href="#semantic-error">Semantic Error</a></h1>
<h2 id="duplicated_identifier"><a class="header" href="#duplicated_identifier">duplicated_identifier</a></h2>
<h2 id="invalid_allow"><a class="header" href="#invalid_allow">invalid_allow</a></h2>
<h2 id="invalid_direction"><a class="header" href="#invalid_direction">invalid_direction</a></h2>
<h2 id="invalid_identifier"><a class="header" href="#invalid_identifier">invalid_identifier</a></h2>
<h2 id="invalid_lsb"><a class="header" href="#invalid_lsb">invalid_lsb</a></h2>
<h2 id="invalid_msb"><a class="header" href="#invalid_msb">invalid_msb</a></h2>
<h2 id="invalid_number_character"><a class="header" href="#invalid_number_character">invalid_number_character</a></h2>
<h2 id="invalid_statement"><a class="header" href="#invalid_statement">invalid_statement</a></h2>
<h2 id="invalid_system_function"><a class="header" href="#invalid_system_function">invalid_system_function</a></h2>
<h2 id="mismatch_arity"><a class="header" href="#mismatch_arity">mismatch_arity</a></h2>
<h2 id="mismatch_attribute_args"><a class="header" href="#mismatch_attribute_args">mismatch_attribute_args</a></h2>
<h2 id="mismatch_type"><a class="header" href="#mismatch_type">mismatch_type</a></h2>
<h2 id="missing_if_reset"><a class="header" href="#missing_if_reset">missing_if_reset</a></h2>
<h2 id="missing_port"><a class="header" href="#missing_port">missing_port</a></h2>
<h2 id="missing_reset_signal"><a class="header" href="#missing_reset_signal">missing_reset_signal</a></h2>
<h2 id="missing_reset_statement"><a class="header" href="#missing_reset_statement">missing_reset_statement</a></h2>
<h2 id="too_large_enum_variant"><a class="header" href="#too_large_enum_variant">too_large_enum_variant</a></h2>
<h2 id="too_large_number"><a class="header" href="#too_large_number">too_large_number</a></h2>
<h2 id="too_much_enum_variant"><a class="header" href="#too_much_enum_variant">too_much_enum_variant</a></h2>
<h2 id="undefined_identifier"><a class="header" href="#undefined_identifier">undefined_identifier</a></h2>
<h2 id="unknown_attribute"><a class="header" href="#unknown_attribute">unknown_attribute</a></h2>
<h2 id="unknown_member"><a class="header" href="#unknown_member">unknown_member</a></h2>
<h2 id="unknown_msb"><a class="header" href="#unknown_msb">unknown_msb</a></h2>
<h2 id="unknown_port"><a class="header" href="#unknown_port">unknown_port</a></h2>
<h2 id="unused_variable"><a class="header" href="#unused_variable">unused_variable</a></h2>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>
        <script type="module">
            import init, {build, format} from "https://dalance.github.io/veryl/playground/pkg/veryl_wasm.js";
            init().then(() => {});
            window.build = build;
        </script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
